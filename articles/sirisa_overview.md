---
title: "【SIRISA】　人間とAIとが融合した新しい学習用質問投稿アプリ" # 記事のタイトル
emoji: "📓" # アイキャッチとして使われる絵文字（1文字だけ）
type: "idea" # tech: 技術記事 / idea: アイデア記事
topics: [] # タグ。["markdown", "rust", "aws"]のように指定する
published: false # 公開設定（falseにすると下書き）
---


## 0. 本システムSIRISAの概要
本システム**SIRISA**は、**人間とAIの強調によって新たな学習体験を提供すること**を目的とした、高校生向けの勉強の質問・回答のためのWebアプリである。

SIRISAのURL: [https://sirisa.net](https://sirisa.net)

## 1. 背景
チームメンバーの高橋が、高校生になる妹から勉強の質問を受けた際に以下のような悩みがあった。  
その悩みがきっかけで、今回のWebアプリを作成することにした。
1. 一日10件程度の質問を受けることがあり、時間の確保が難しい。
2. 一人で勉強を教えるので回答の質を確保することが難しい。
3. すぐ答えられないことがある。
以上のもんだを解決するために、AIを活用した質問回答アプリ **SIRISA** を作成することにした。
---

また、チームメンバーの野口は、大学受験の勉強時に生成AIを活用した勉強方法があった。
その勉強方法とは、生成AIに回答をHTMLで出力させる方法である。
野口は、生成AIの回答をmarkdownで出力させるよりもHTMLで出力させたほうがグラフィカルでわかりやすく、理解を深めやすいと感じた。
このことも、今回のWebアプリを作成することにした背景の一つである。

## 2. 課題

本アプリでは、以下の特徴を持たせることによって、"1.背景"の課題を解決することに成功した。
1. 一日10件程度の質問を受けることがあり、時間の確保が難しい。
    - 質問投稿を掲示板サイトの様に行う。
        -> 高橋1人ではなく複数人が任意に回答できるようになった。
2. 一人で勉強を教えるので回答の質を確保することが難しい。
    - 複数人やAIを含めた回答
        -> 一人で回答するよりも、回答の質を確保できるようになった。
    - 誰かの質問に対してAIの返信を求めることが可能
        -> 人間の回答の真偽をAIによってチェックすることが可能となった。
    - 逆に、AIの回答に対して人間が返信することが可能。
        -> 人間の返信によって、AIの回答をチェックすることが可能となった。
3. すぐ答えられないことがある。
    - 質問投稿後にAIが自動的に回答を生成する
        -> 人間による回答の前にAIの回答を見ることができるようになった。


## 3. 目的
目的は、**人間とAIの強調によって新たな学習体験を提供すること**。

勉強の質問・回答では、人間とAIで以下の利点と欠点がある。
|        | 人間       |  AI |
|:-----------|:------------|:------------|
| 利点       | ・回答者によっては回答の質の高い<br>・抽象的な問題や創造性を要するような複雑な問題に対応       | ・迅速な回答<br>・長い文章を出力することができるため、詳細な導出や過程が可能 |
| 欠点       | ・解答に時間を要する<br>・長い文章を考えることが苦痛であるため、導出や過程を省いた結論ベースの簡潔な回答になる傾向       | ・抽象的な問題や創造性を要するような複雑な問題には対応しきれない可能性 |

以上の利点と欠点は、本システムを構築することで人間とAIが協力することで補完することを目的とする。

## 4. プロダクト詳細
### 用語定義
以下の表1に、本記事で使用する用語の定義をまとめる。
| 用語       | 定義 |
|:-----------|:------------|

### 想定しているユーザ
以下の表2に、本システムの想定しているユーザをまとめる。
| ユーザ       | 定義 |
|:-----------|:------------|
| 利用者       | 本アプリを利用する人。質問者、回答者、返信者を含む。       |
| 質問者       | 質問を投稿する利用者。質問に対して回答を求める人。       |
| 回答者       | 質問に対して回答を投稿する利用者。       |
| 返信者       | 回答に対して返信を投稿する利用者。       |
| AI       | 質問に対して回答を生成する生成AI"Gemini"。       |

### 前提
- 本システムの利用者として対象としているのは、高校生である。
- AIの回答によるXSS攻撃をはらんだ文章の生成の可能性は低いと考える。
- 本システムの利用者は、AIの回答が必ずしも正確でない可能性があることを理解しているとする。

### 機能要求
機能要求について、以下の表3にまとめる。
| No. | 機能要求 | 概要説明 |
|:-----------|:------------|:------------|
| 1 | 質問投稿機能 | 質問者が質問を投稿できる機能。投稿後にAIが自動的に回答を生成する。 |
| 2 | 回答機能 | 回答者が質問に対して回答できる機能。<br>回答はテキストベースだけではなく、HTMLやmarkdown形式を使用した形式もサポートする。<br>AIの回答は自動生成、人間の回答は手動投稿される。 |
| 3 | 返信機能 | 返信者が回答に対して返信できる機能。<br>返信はテキストベースだけではなく、HTMLやmarkdown形式を使用した形式もサポートする。<br>AIの返信は自動生成、人間の返信は手動投稿される。 |
| 4 | AI返信機能 | 返信機能において、AIの返信を求める際に、メンションできるようにする機能。@aiでメンションできるようにする。 |
| 5 | 数式の導出過程表示機能 | 回答の文章に数式が含まれている場合は、そこをクリック可能にして、クリックするとその数式が導出される過程をAIによって生成して表示する機能。 |
| 6 | 単語の意味説明機能 | 回答や返信の文章中でわからない単語を、すぐにAIに意味を聞くことができる機能。 |
| 7 | 小グループ機能 | 任意のユーザ内でしか質問を共有できない小グループを作成できる機能。<br>質問を投稿する際に、全世界に共有する質問か、小グループ内で共有する質問かを選択できるようにする。 |
| 8 | ログイン機能 | 利用者がログインできる機能。ログインすることで、質問投稿や回答投稿、返信投稿などの機能を利用できるようにする。 |
| 9 | ユーザ登録 | 利用者がユーザ登録できる機能。ユーザ登録することで、ログイン機能を利用できるようにする。 |
| 10 | 質問検索・絞り込み | 質問を検索したり、タグや小グループなどの条件で絞り込んだりできる機能。 |
| 11 | リアクション（👍👎） | 質問や回答、返信に対して、いいね（👍）やよくないね（👎）などのリアクションをつけることができる機能。 |
| 12 | 下書き自動保存 | 質問や回答、返信の投稿フォームにおいて、入力した内容を自動的に下書き保存する機能。 |
| 13 | エクスポート | 質問や回答、返信の内容をテキストファイルやPDFなどの形式でエクスポートできる機能。 |
| 14 | サンドボックス回答表示 | AIが生成した回答を、サンドボックス環境で表示する機能。これにより、AIが生成したHTMLやスクリプトが安全に表示されるようにする。 |
| 15 | 外部リンク Safe Browsing | 回答や返信の内容に含まれる外部リンクに対して、Google Safe Browsing APIを使用して安全性をチェックする機能。 |
| 16 | プロフィール編集 | 利用者が自分のプロフィールを編集できる機能。プロフィールには、ユーザ名、自己紹介、アイコン画像などを設定できるようにする。 |
| 17 | アカウント削除（匿名化） | 利用者が自分のアカウントを削除できる機能。アカウントを削除すると、ユーザ名やプロフィール情報が匿名化され、質問や回答、返信などの投稿は残るようにする。 |
| 18 | ユーザ通報 | 利用者が他のユーザの質問や回答、返信などの投稿を通報できる機能。通報された投稿は、管理者が確認して適切な対応を行う。 |
| 19 | 質問編集 | 質問者が自分の質問を編集できる機能。質問の内容やタイトル、タグなどを変更できるようにする。 |
| 20 | 自動補完 (AutoSupplement) | 質問や回答、返信の投稿フォームにおいて、入力内容に基づいてAIが自動的に補完候補を提示する機能。これにより、ユーザがより簡単に質問や回答、返信を投稿できるようにする。 |
| 21 | AI使用回数制限 | AIの回答生成や返信生成の使用回数を制限する機能。これにより、AIの過剰な使用を防止し、リソースの適切な管理を行う。 |
| 22 | メディアアップロード | 質問や回答、返信の投稿フォームにおいて、画像や動画などのメディアファイルをアップロードして投稿に添付できる機能。 |

以下に各機能要求ごとの処理フローを示す。
ただし、各機能ごとの処理フローについての詳細の説明は[(zenn)SIRISA 機能別処理フロー説明](/articles/feature_flows)に示すこととする。


#### No.1 質問投稿機能の詳細設計
質問投稿機能の処理フローを以下の図1に示す。
:::details ログイン機能の処理フロー
![](/images/outline/flows/01_question_posting.png)
*図1. 質問投稿機能の処理フロー*
:::

#### No.2 回答機能の詳細設計
回答機能の処理フローを以下の図2に示す。
:::details 回答機能の処理フロー
![](/images/outline/flows/02_answer_posting.png)
*図2. 回答機能の処理フロー*
:::

#### No.3 返信機能の詳細設計
返信機能の処理フローを以下の図3に示す。
:::details 返信機能の処理フロー
![](/images/outline/flows/03_reply_posting.png)
*図3. 返信機能の処理フロー*
:::

#### No.4 AI返信機能の詳細設計
AI返信機能の処理フローを以下の図4に示す。
:::details AI返信機能の処理フロー
![](/images/outline/flows/04_ai_reply.png)
*図4. AI返信機能の処理フロー*
:::

#### No.5 数式の導出過程表示機能の詳細設計
数式の導出過程表示機能の処理フローを以下の図5に示す。
:::details 数式の導出過程表示機能の処理フロー
![](/images/outline/flows/05_formula_derivation.png)
*図5. 数式の導出過程表示機能の処理フロー*
:::

#### No.6 単語の意味説明機能の詳細設計
単語の意味説明機能の処理フローを以下の図6に示す。
:::details 単語の意味説明機能の処理フロー
![](/images/outline/flows/06_word_annotation.png)
*図6. 単語の意味説明機能の処理フロー*
:::

#### No.7 小グループ機能の詳細設計
小グループ機能の処理フローを以下の図7に示す。
:::details 小グループ機能の処理フロー
![](/images/outline/flows/07_study_groups.png)
*図7. 小グループ機能の処理フロー*
:::

#### No.8 ログイン機能の詳細設計
ログイン機能の処理フローを以下の図8に示す。
:::details ログイン機能の処理フロー
[![](/images/outline/flows/08_login_firebase.png)]
*図8. ログイン機能の処理フロー*
:::

#### No.9 ユーザ登録機能の詳細設計
ユーザ登録機能の処理フローを以下の図9に示す。
:::details ユーザ登録機能の処理フロー
![](/images/outline/flows/09_user_registration.png)
*図9. ユーザ登録機能の処理フロー*
:::

#### No.10 質問検索・絞り込み機能の詳細設計
質問検索・絞り込み機能の処理フローを以下の図10に示す。
:::details 質問検索・絞り込み機能の処理フロー
![](/images/outline/flows/10_search_filter.png)
*図10. 質問検索・絞り込み機能の処理フロー*
:::

#### No.11 リアクション機能の詳細設計
リアクション機能の処理フローを以下の図11に示す。
:::details リアクション機能の処理フロー
![](/images/outline/flows/11_reaction.png)
*図11. リアクション機能の処理フロー*
:::

#### No.12 下書き自動保存機能の詳細設計
下書き自動保存機能の処理フローを以下の図12に示す。
:::details 下書き自動保存機能の処理フロー
![](/images/outline/flows/12_draft_autosave.png)
*図12. 下書き自動保存機能の処理フロー*
:::

#### No.13 エクスポート機能の詳細設計
エクスポート機能の処理フローを以下の図13に示す。
:::details エクスポート機能の処理フロー
![](/images/outline/flows/13_export.png)
*図13. エクスポート機能の処理フロー*
:::

#### No.14 サンドボックス回答表示機能の詳細設計
サンドボックス回答表示機能の処理フローを以下の図14に示す。
:::details サンドボックス回答表示機能の処理フロー
![](/images/outline/flows/14_sandbox_display.png)
*図14. サンドボックス回答表示機能の処理フロー*
:::

#### No.15 外部リンク Safe Browsing機能の詳細設計
外部リンク Safe Browsing機能の処理フローを以下の図15に示す。
:::details 外部リンク Safe Browsing機能の処理フロー
![](/images/outline/flows/15_safe_browsing.png)
*図15. 外部リンク Safe Browsing機能の処理フロー*
:::

#### No.16 プロフィール編集機能の詳細設計
プロフィール編集機能の処理フローを以下の図16に示す。
:::details プロフィール編集機能の処理フロー
![](/images/outline/flows/16_profile_edit.png)
*図16. プロフィール編集機能の処理フロー*
:::

#### No.17 アカウント削除（匿名化）機能の詳細設計
アカウント削除（匿名化）機能の処理フローを以下の図17に示す。
:::details アカウント削除（匿名化）機能の処理フロー
![](/images/outline/flows/17_account_delete.png)
*図17. アカウント削除（匿名化）機能の処理フロー*
:::

#### No.18 ユーザ通報機能の詳細設計
ユーザ通報機能の処理フローを以下の図18に示す。
:::details ユーザ通報機能の処理フロー
![](/images/outline/flows/18_user_report.png)
*図18. ユーザ通報機能の処理フロー*
:::

#### No.19 質問編集機能の詳細設計
質問編集機能の処理フローを以下の図19に示す。
:::details 質問編集機能の処理フロー
![](/images/outline/flows/19_question_edit.png)
*図19. 質問編集機能の処理フロー*
:::

#### No.20 自動補完（AutoSupplement）機能の詳細設計
自動補完（AutoSupplement）機能の処理フローを以下の図20に示す。
:::details 自動補完（AutoSupplement）機能の処理フロー
![](/images/outline/flows/20_auto_supplement.png)
*図20. 自動補完（AutoSupplement）機能の処理フロー*
:::

#### No.21 AI使用回数制限機能の詳細設計
AI使用回数制限機能の処理フローを以下の図21に示す。
:::details AI使用回数制限機能の処理フロー
![](/images/outline/flows/21_ai_usage_limit.png)
*図21. AI使用回数制限機能の処理フロー*
:::

#### No.22 メディアアップロード機能の詳細設計
メディアアップロード機能の処理フローを以下の図22に示す。
:::details メディアアップロード機能の処理フロー
![](/images/outline/flows/22_media_upload.png)
*図22. メディアアップロード機能の処理フロー*
:::

### 非機能要求
非機能要求について、以下の表4にまとめる。
| No. | 非機能要求 | 概要説明 |
|:-----------|:------------|:------------|
| 1 | AIの応答速度 | AIの回答生成や返信生成の応答速度は、ユーザがストレスを感じない程度にすること。 |
| 2 | AIの回答の質 | AIの回答は、質問の内容に合った正確で分かりやすい回答を提供すること。 |
| 3 | ログインのしやすさ | ログイン機能は、ユーザが簡単にログインできるようにすること。 |
| 4 | 保守・運用のしやすさ | システムは、保守や運用がしやすいように設計・実装すること。 |

## 5. システムアーキテクチャ
### 全体構成
以下に、全体のシステムアーキテクチャを図2に示す。

![](/images/outline/flows/00_architecture.png)
*全体のシステムアーキテクチャ*

#### 詳細
システムアーキテクチャの詳細については、[(zenn)SIRISA システムアーキテクチャ説明](/articles/architecture)に示すこととする。

## 6. ユーザインタビュー

## 7. おわりに
AIを活用した質問回答アプリ **SIRISA** を作成することによって、**人間とAIの強調によって新たな学習体験を提供すること**ができることを示すことができた。

このアプリを活用することで、少しでも高校生の勉強の理解につながることを願う。
    
    




