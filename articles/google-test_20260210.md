# 今回作成するWebアプリ **SIRISA** の概要
- 勉強の解法や疑問点を人間やAIが回答するアプリ
- Gemini APIを利用したAI回答
- 回答はテキストベースだけではなく、HTMLやmarkdown形式を使用した形式もサポート

| 従来のアプリ vs SIRISA | 特徴 |
|:-----------|:------------|
| 従来の質問回答アプリ       | 欲しい情報を短い文章で提供 |
| SIRISA       | 解法の過程をHTMLやmarkdown形式でじっくりと説明 |

:::message
SIRISAは、inputの学習において重要な学習過程を重要視したWebアプリ
:::

# 今日の流れ
1. 前回のテストのまとめ
2. デバッグ

# 1.前回のテストのまとめ

テストにおいて、以下の不具合が見つかった。

- 回答時の入力形式のフォーマットが崩れている。
- アカウント作成時にメール認証を失敗すると、再度作成することができない。
- 質問投稿後の"questions/[数字]/"において、"AI回答を生成中です..."から進まない。
- 自分の投稿画面において問題を未解決から解決済みに変更できない。
- AIの回答がmarkdown形式であるためHTMLの回答の前後に無駄なテキストが表示される。ここで、HTMLの回答部分を抜き出すために「\`\`\`html」から「\`\`\`」までを抜き出す処理をするなどの対策をしていない。
- 回答に対するリアクションの数の色が白すぎて見えにくい。
- AIの回答のHTMLがグラフィカルでない。HTMLをグラフィカルに表示し、グラフや表や画像などの挿入もAIに考慮させていない。
- パスワードが存在する。パスワードを廃止してその代わりに新規登録時とログイン時にメール認証を行うようになっていない。
- アカウントのマイページがない。マイページには、ユーザ名の変更やメールアドレスの変更やユーザの削除等を行えるようにする。
- ダークモードに対応していない。
- アイコンが無い。

# 2.デバッグ

## ログイン時のパスワードの廃止
![](../images/20260210/login.png)
*ログイン画面*

ログイン時のパスワードを廃止し、メール認証のみでログインできるようにした。  
-> 要求通り

![](../images/20260210/2val.png)
*2段階認証画面*

ログイン時にメールアドレスを入力すると、認証コードがメールで送信される。  
-> 要求通り

![](../images/20260210/failed.png)
*ログイン失敗画面*

認証コードが間違っている場合、ログインに失敗する。  
-> 要求通り

![](../images/20260210/success.png)
*ログイン成功画面*

認証コードが正しい場合、ログインに成功する。  
-> 要求通り

## マイページの追加
![](../images/20260210/menu.png)
*ホーム画面のメニュー*

![](../images/20260210/acount.png)
*メニューのアカウントをクリック後のアカウント画面*

ホーム画面のアカウントをクリックするとアカウント画面に遷移する。  
-> 要求通り

## 名前の変更
![](../images/20260210/name.png)
*名前変更時のアカウント画面*

アカウント画面において名前を変更することができる。  
-> 要求通り

![](../images/20260210/home_name.png)
*名前変更後のホーム画面*

ホーム画面において名前の変更が適用されている。  
-> 要求通り

## メールアドレスの変更
![](../images/20260210/change_email.png)
*メールアドレス変更ボタンクリック後の2段階認証画面*

アカウント画面においてメールアドレス変更ボタンを押すと、2段階認証画面に遷移する。  
-> 要求通り

![](../images/20260210/success_email.png)
*メールアドレス変更成功画面*

2段階認証画面において認証コードを正しく入力すると、メールアドレスの変更に成功する。  
-> 要求通り

ただし、変更後のメールにメールアドれるが登録されたかどうかの確認メールは送信されない。  
-> 要求通りではない

![](../images/20260210/relogin_email.png)
*メールアドレス変更後の再ログイン画面*

変更する前のメールアドレスでログインするとログインできなくなる。  
-> 要求通り

![](../images/20260210/email_error.png)

以前、ほかのアカウントにおいて使用していたメールアドレスを変更に使用すると、メールアドレス変更に失敗する。  
-> 要求通りではない

## アカウントの削除
![](../images/20260210/del_dialog.png)
*アカウント削除確認ダイアログ*

アカウント画面においてアカウント削除ボタンを押すと、アカウント削除確認ダイアログが表示される。  
-> 要求通り

![](../images/20260210/cancel.png)
*アカウント削除キャンセル後のアカウント画面*

アカウント削除確認ダイアログにおいてキャンセルボタンを押すと、アカウント画面に戻る。  
-> 要求通り

![](../images/20260210/delete.png)
*アカウント削除後のログイン画面*

アカウント削除確認ダイアログにおいて削除ボタンを押すと、アカウントが削除されログイン画面に遷移する。  
-> 要求通り

![](../images/20260210/relogin.png)
*アカウント削除後の再ログイン*

アカウント削除後に再度同じメールアドレスで新規ログインできない。  
-> 要求通り

## 2段階認証失敗後の再認証の有効化
新規登録において2段階認証を失敗したメールアドレスを使用して再度新規登録できるようにした。  
-> 要求通り

## アイコンの追加
![](../images/20260210/icon.png)
*アイコン*

GeminiのNano Banana Proを使用してアイコンを作成した。  
その際のプロンプトは次の[URL](https://gemini.google.com/share/d9f4ea9bfba9)である。  

![](../images/20260210/tab.png)
*アイコン追加後のタブ*

タブにアイコンが追加された。  
-> 要求通り